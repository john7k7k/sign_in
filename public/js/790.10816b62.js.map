{"version":3,"file":"js/790.10816b62.js","mappings":"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","sources":["webpack://webpage1/./src/views/john/Interact.vue","webpack://webpage1/./src/components/interact/speech.vue","webpack://webpage1/./src/components/interact/speech.vue?5c2b","webpack://webpage1/./src/views/john/Interact.vue?5ebb"],"sourcesContent":["<template>\r\n    \r\n    <Speech />\r\n    \r\n</template>\r\n  \r\n<script>\r\n    import Speech from '@/components/interact/speech.vue';\r\n    export default {\r\n        name: 'speech',\r\n        components: { Speech},\r\n        data(){\r\n            return {\r\n                fishUID: ''\r\n            };\r\n        },\r\n        methods: {\r\n            update(fishUID) {\r\n                this.fishUID = fishUID;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n  \r\n  <style>\r\n  .container {\r\n  background-color: white;\r\n}\r\n  </style>\r\n  ","<template>\r\n  <div>\r\n    <div>\r\n      <label for=\"dropdown\">選擇控制魚的ID:</label>\r\n      <select id=\"dropdown\" v-model=\"selectedfishUID\" @change=\"handleChange\">\r\n        <option v-for=\"(option, index) in options\" :key=\"index\" :value=\"option.value\">{{ option.label }}</option>\r\n      </select>\r\n    </div>\r\n    <label for=\"languageSelect\">選擇語言:</label>\r\n    <select id=\"languageSelect\" v-model=\"selectedLanguage\" @change=\"changeLanguage\">\r\n      <option value=\"en-US\">英文</option>\r\n      <option value=\"zh-CN\">中文</option>\r\n      <!-- 其他語言選項 -->\r\n    </select>\r\n    <br/>\r\n    <button @click=\"startSpeechRecognition\">開始辨識</button>\r\n    <p>{{ \"辨識結果: \" +  recognitionResult}}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            selectedfishUID: null,\r\n            options: [\r\n                { value: 'option1', label: '選項 1' },\r\n                { value: 'option2', label: '選項 2' },\r\n                { value: 'option3', label: '選項 3' }\r\n            ],\r\n            recognition: null,\r\n            selectedLanguage: 'en-US', // 預設語言為英文\r\n            recognitionResult: ''\r\n        };\r\n    },\r\n    mounted() {\r\n        // 初始化語音辨\r\n        this.fetchOptions();\r\n        this.recognition = new window.webkitSpeechRecognition();\r\n        this.recognition.lang = this.selectedLanguage; // 使用使用者選擇的語言\r\n\r\n        // 設定辨識事件的處理函數\r\n        this.recognition.onresult = event => {\r\n            this.recognitionResult = event.results[0][0].transcript;\r\n            this.submit();\r\n        };\r\n    },\r\n    methods: {\r\n        startSpeechRecognition() {\r\n        // 開始語音辨識\r\n        this.recognition.start();\r\n            this.recognitionResult = \"辨識中\";\r\n        },\r\n        changeLanguage() {\r\n        // 使用者改變語言時更新辨識的語言設定\r\n        this.recognition.lang = this.selectedLanguage;\r\n        },\r\n        submit(){\r\n            axios.post(\r\n                process.env.VUE_APP_SEVER+\"/api/v1/fish/voice\",\r\n                {\r\n                    text:this.recognitionResult,\r\n                    fishUID: this.selectedfishUID\r\n                },\r\n                { headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\r\n                }}\r\n            ).then(\r\n                ({data}) => alert('辨識結果: '+data)\r\n            )\r\n        },\r\n        handleChange() {\r\n            this.$emit('change', this.selectedOption);\r\n        },\r\n        async fetchOptions() {\r\n            this.options = Object.keys(this.flatten((await axios.get(\r\n            process.env.VUE_APP_SEVER+\"/api/v1/account\", { headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`\r\n            }}\r\n            )).data.fishesID)).map(id => ({value: id.slice(-7), label: id.slice(-4)}));\r\n            console.log(this.options);\r\n        },\r\n        traverseAndFlatten(currentNode, target, flattenedKey) {\r\n            for (var key in currentNode) {\r\n                if (Object.prototype.hasOwnProperty.call(currentNode, key)) {\r\n                    var newKey;\r\n                    if (flattenedKey === undefined) {\r\n                        newKey = key;\r\n                    } else {\r\n                        newKey = flattenedKey + '.' + key;\r\n                    }\r\n\r\n                    var value = currentNode[key];\r\n                    if (typeof value === \"object\") {\r\n                        this.traverseAndFlatten(value, target, newKey);\r\n                    } else {\r\n                        target[newKey] = value;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        flatten(obj) {\r\n            var flattenedObject = {};\r\n            this.traverseAndFlatten(obj, flattenedObject);\r\n            return flattenedObject;\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n  <style>\r\n  div {\r\n  background-color: white;\r\n}\r\n  </style>","import { render } from \"./speech.vue?vue&type=template&id=ee5be362\"\nimport script from \"./speech.vue?vue&type=script&lang=js\"\nexport * from \"./speech.vue?vue&type=script&lang=js\"\n\nimport \"./speech.vue?vue&type=style&index=0&id=ee5be362&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Interact.vue?vue&type=template&id=5b30d190\"\nimport script from \"./Interact.vue?vue&type=script&lang=js\"\nexport * from \"./Interact.vue?vue&type=script&lang=js\"\n\nimport \"./Interact.vue?vue&type=style&index=0&id=5b30d190&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_Speech","_createElementVNode","for","value","_hoisted_4","_hoisted_5","_createElementBlock","_hoisted_1","id","$data","selectedfishUID","$event","onChange","_cache","args","$options","handleChange","_Fragment","_renderList","options","option","index","key","label","_hoisted_2","_hoisted_3","selectedLanguage","changeLanguage","_hoisted_7","onClick","startSpeechRecognition","_toDisplayString","recognitionResult","data","recognition","mounted","this","fetchOptions","window","webkitSpeechRecognition","lang","onresult","event","results","transcript","submit","methods","start","axios","post","text","fishUID","headers","Authorization","localStorage","getItem","then","alert","$emit","selectedOption","async","Object","keys","flatten","get","fishesID","map","slice","console","log","traverseAndFlatten","currentNode","target","flattenedKey","prototype","hasOwnProperty","call","newKey","undefined","obj","flattenedObject","__exports__","name","components","Speech","update","render"],"sourceRoot":""}