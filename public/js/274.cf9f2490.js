"use strict";(self["webpackChunkwebpage1"]=self["webpackChunkwebpage1"]||[]).push([[274],{7274:function(e,t,a){a.r(t),a.d(t,{default:function(){return se}});var l=a(3396),s=a(6824),o=a(8521);const n={class:"login"},i={class:"v-application__wrap",style:{height:"100%"}},r=(0,l._)("h1",{class:"text-center mr-15 text2"}," 仿生魚監控站 ",-1);function c(e,t,a,c,u,d){const m=(0,l.up)("loginnavbar"),p=(0,l.up)("logininput");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(m,{class:"loginnavbar-bg"}),(0,l._)("div",i,[r,(0,l.Wm)(s.o,{class:"mt-2"},{default:(0,l.w5)((()=>[(0,l.Wm)(o.D,{class:"d-flex justify-center",xs:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"logininput"})])),_:1})])),_:1})])])}var u=a(453),d=a(870),m=a(4075),p=a(9234),v=a(8694),g=a(7471),f=a(1615);const b=(0,l._)("h3",null,"註冊",-1);function h(e,t){return(0,l.wg)(),(0,l.j4)(g.i,{prominent:""},{prepend:(0,l.w5)((()=>[(0,l.Wm)(v.f,{src:u,alt:"logo",width:"70"})])),default:(0,l.w5)((()=>[(0,l.Wm)(p.C),(0,l.Wm)(p.C),(0,l.Wm)(f.l,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m.J,{inset:"",vertical:""}),(0,l.Wm)(d.T,{variant:"text",route:"",to:"/SignUp",class:"rounded-button text"},{default:(0,l.w5)((()=>[b])),_:1})])),_:1})])),_:1})}var w=a(89);const y={},S=(0,w.Z)(y,[["render",h]]);var k=S,_=a(9242),x=a(9752),I=a(6422),W=a(3369),V=a(836),U=a(5768),C=a(3185),O=a(5180),N=a(489),D=a(8717),P=a(4231),j=a(5975),T=a(7041),E=a(5221),J=a(4870),$=a(3766),B=a(131),F=a(1107),G=a(9888);const L=(0,$.U)({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...(0,O.y)({location:"bottom"}),...(0,N.F)(),...(0,P.I)(),...(0,E.bk)(),...(0,T.x$)(),...(0,B.CE)((0,U.B)({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),M=(0,F.ev)()({name:"VSnackbar",props:L(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const s=(0,D.z)(e,"modelValue"),{locationStyles:o}=(0,O.T)(e),{positionClasses:n}=(0,N.K)(e),{scopeId:i}=(0,j.a)(),{themeClasses:r}=(0,T.ER)(e),{colorClasses:c,colorStyles:u,variantClasses:d}=(0,E.c1)(e),{roundedClasses:m}=(0,P.b)(e),p=(0,J.iH)();(0,l.YP)(s,g),(0,l.YP)((()=>e.timeout),g),(0,l.bv)((()=>{s.value&&g()}));let v=-1;function g(){window.clearTimeout(v);const t=Number(e.timeout);s.value&&-1!==t&&(v=window.setTimeout((()=>{s.value=!1}),t))}function f(){window.clearTimeout(v)}return(0,G.L)((()=>{const[t]=U.y.filterProps(e);return(0,l.Wm)(U.y,(0,l.dG)({ref:p,class:["v-snackbar",{"v-snackbar--active":s.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},n.value,e.class],style:e.style},t,{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,contentProps:(0,l.dG)({class:["v-snackbar__wrapper",r.value,c.value,m.value,d.value],style:[o.value,u.value],onPointerenter:f,onPointerleave:g},t.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},i),{default:()=>[(0,E.Ux)(!1,"v-snackbar"),a.default&&(0,l.Wm)("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[a.default()]),a.actions&&(0,l.Wm)(V.z,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[(0,l.Wm)("div",{class:"v-snackbar__actions"},[a.actions()])]})],activator:a.activator})})),(0,C.F)({},p)}});var Z=a(5869);const q={class:"container"},z=(0,l._)("div",{class:"text-subtitle-1 text-black"},"使用者名稱",-1),Y={class:"text-black text-subtitle-1 d-flex align-center justify-space-between"},A={class:"text-caption text-decoration-underline text-white",href:"#",rel:"noopener noreferrer",target:"_blank"},H=(0,l._)("br",null,null,-1);function K(e,t,a,s,o,n){return(0,l.wg)(),(0,l.j4)(W.K,null,{default:(0,l.w5)((()=>[(0,l.Wm)(x._,{class:"mx-auto px-8 py-11","max-width":"344",color:"white"},{default:(0,l.w5)((()=>[(0,l._)("div",q,[(0,l.Wm)(I.O,{modelValue:e.form,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form=t),onSubmit:(0,_.iM)(n.onSubmit,["prevent"])},{default:(0,l.w5)((()=>[z,(0,l.Wm)(Z.h,{modelValue:e.account,"onUpdate:modelValue":t[0]||(t[0]=t=>e.account=t),readonly:e.loading,rules:[n.required],class:"mb-2",clearable:"",placeholder:"Enter your UserName"},null,8,["modelValue","readonly","rules"]),(0,l._)("div",Y,[(0,l.Uk)(" 密碼 "),(0,l.wy)((0,l._)("a",A," 忘記密碼?",512),[[_.F8,!1]])]),(0,l.Wm)(Z.h,{"append-inner-icon":e.visible?"mdi-eye-off":"mdi-eye",type:e.visible?"text":"password",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),readonly:e.loading,rules:[n.required],"onClick:appendInner":t[2]||(t[2]=t=>e.visible=!e.visible),placeholder:"Enter your password"},null,8,["append-inner-icon","type","modelValue","readonly","rules"]),H,(0,l.Wm)(M,{timeout:2e3,color:"blue-grey",rounded:"pill"},{activator:(0,l.w5)((({props:t})=>[(0,l.Wm)(d.T,(0,l.dG)({rounded:"pill",disabled:!e.form,loading:e.loading,block:"",color:"success",size:"large",type:"submit",variant:"elevated",class:"mb-3"},t),{default:(0,l.w5)((()=>[(0,l.Uk)(" 登入 ")])),_:2},1040,["disabled","loading"])])),_:1})])),_:1},8,["modelValue","onSubmit"])])])),_:1})])),_:1})}a(6314),a(7658);var R=a(4161);const Q=a(8082);var X={data:()=>({form:!1,salt:"kowkoww151s5ww",account:null,password:null,token:"",visible:!1,loading:!1,IP:"20.89.131.34:80"}),methods:{onSubmit(){const e=this.password+this.salt,t=Q.MD5(e).toString();this.form&&(this.loading=!0,localStorage.setItem("username",this.account),R.Z.post("http://"+this.IP+"/api/v1/account/login",{username:this.account,password:t}).then((e=>{if(console.log(e),this.loading=!1,200==e.status){const t=e.data.fishesID["002"],a=[],l=[],s=[],o=e.data.fishesID["003"],n=[],i=[],r=[];Object.hasOwn(e.data.fishesID,"002")&&Object.entries(t).forEach((([e,t])=>{1===t?l.push(e):2===t?s.push(e):a.push(e)})),Object.hasOwn(e.data.fishesID,"003")&&Object.entries(o).forEach((([e,t])=>{1===t?i.push(e):2===t?r.push(e):n.push(e)})),localStorage.setItem("fish20",JSON.stringify(a)),localStorage.setItem("fish21",JSON.stringify(l)),localStorage.setItem("fish22",JSON.stringify(s)),localStorage.setItem("fish30",JSON.stringify(n)),localStorage.setItem("fish31",JSON.stringify(i)),localStorage.setItem("fish32",JSON.stringify(r)),localStorage.setItem("UserName",e.data.username),localStorage.setItem("UserEmail",e.data.email),localStorage.setItem("UserLevel",e.data.level),localStorage.setItem("UserSection",e.data.section);const c=e.data.registrationTime,u=new Date(c),d=u.getFullYear(),m=u.getMonth()+1,p=u.getDate(),v=u.getHours(),g=u.getMinutes(),f=u.getSeconds(),b=`${d}-${m}-${p} ${v}:${g}:${f}`;localStorage.setItem("registrationTime",b),document.cookie="token="+e.data.token+"; path=/",window.location.replace("/home")}else alert("登入失敗")})).catch((e=>{console.log(e),this.loading=!1,alert("登入失敗")})))},required(e){return!!e||"此區為必填區域"}}};const ee=(0,w.Z)(X,[["render",K]]);var te=ee,ae={name:"login",components:{loginnavbar:k,logininput:te},data:()=>({})};const le=(0,w.Z)(ae,[["render",c]]);var se=le}}]);
//# sourceMappingURL=274.cf9f2490.js.map