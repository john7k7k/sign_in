"use strict";(self["webpackChunkwebpage1"]=self["webpackChunkwebpage1"]||[]).push([[954],{6954:function(e,t,a){a.r(t),a.d(t,{default:function(){return oe}});var l=a(3396),o=a(6824),n=a(8521);const s={class:"login"},r={class:"v-application__wrap",style:{height:"100%"}},i=(0,l._)("h1",{class:"text-center mr-15 text2"}," 仿生魚監控站 ",-1);function c(e,t,a,c,u,d){const m=(0,l.up)("loginnavbar"),p=(0,l.up)("logininput");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(m,{class:"loginnavbar-bg"}),(0,l._)("div",r,[i,(0,l.Wm)(o.o,{class:"mt-2"},{default:(0,l.w5)((()=>[(0,l.Wm)(n.D,{class:"d-flex justify-center",xs:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"logininput"})])),_:1})])),_:1})])])}var u=a(453),d=a(870),m=a(4075),p=a(9234),g=a(8694),v=a(7471),b=a(1615);const w=(0,l._)("h3",null,"註冊",-1);function f(e,t){return(0,l.wg)(),(0,l.j4)(v.i,{prominent:""},{prepend:(0,l.w5)((()=>[(0,l.Wm)(g.f,{src:u,alt:"logo",width:"70"})])),default:(0,l.w5)((()=>[(0,l.Wm)(p.C),(0,l.Wm)(p.C),(0,l.Wm)(b.l,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m.J,{inset:"",vertical:""}),(0,l.Wm)(d.T,{variant:"text",route:"",to:"/sign/up",class:"rounded-button text"},{default:(0,l.w5)((()=>[w])),_:1})])),_:1})])),_:1})}var S=a(89);const k={},y=(0,S.Z)(k,[["render",f]]);var h=y,_=a(9242),x=a(9752),I=a(6422),W=a(3369),C=a(836),V=a(8429),U=a(3185),N=a(5180),P=a(489),T=a(8717),$=a(4231),D=a(5975),E=a(7041),G=a(5221),J=a(4870),j=a(3766),q=a(131),F=a(1107),O=a(9888);const z=(0,j.U)({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...(0,N.y)({location:"bottom"}),...(0,P.F)(),...(0,$.I)(),...(0,G.bk)(),...(0,E.x$)(),...(0,q.CE)((0,V.B)({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),A=(0,F.ev)()({name:"VSnackbar",props:z(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=(0,T.z)(e,"modelValue"),{locationStyles:n}=(0,N.T)(e),{positionClasses:s}=(0,P.K)(e),{scopeId:r}=(0,D.a)(),{themeClasses:i}=(0,E.ER)(e),{colorClasses:c,colorStyles:u,variantClasses:d}=(0,G.c1)(e),{roundedClasses:m}=(0,$.b)(e),p=(0,J.iH)();(0,l.YP)(o,v),(0,l.YP)((()=>e.timeout),v),(0,l.bv)((()=>{o.value&&v()}));let g=-1;function v(){window.clearTimeout(g);const t=Number(e.timeout);o.value&&-1!==t&&(g=window.setTimeout((()=>{o.value=!1}),t))}function b(){window.clearTimeout(g)}return(0,O.L)((()=>{const[t]=V.y.filterProps(e);return(0,l.Wm)(V.y,(0,l.dG)({ref:p,class:["v-snackbar",{"v-snackbar--active":o.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},s.value,e.class],style:e.style},t,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,contentProps:(0,l.dG)({class:["v-snackbar__wrapper",i.value,c.value,m.value,d.value],style:[n.value,u.value],onPointerenter:b,onPointerleave:v},t.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},r),{default:()=>[(0,G.Ux)(!1,"v-snackbar"),a.default&&(0,l.Wm)("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[a.default()]),a.actions&&(0,l.Wm)(C.z,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[(0,l.Wm)("div",{class:"v-snackbar__actions"},[a.actions()])]})],activator:a.activator})})),(0,U.F)({},p)}});var B=a(5869);const L={class:"container"},M=(0,l._)("div",{class:"text-subtitle-1 text-black"},"使用者名稱",-1),Y={class:"text-black text-subtitle-1 d-flex align-center justify-space-between"},Z={class:"text-caption text-decoration-underline text-white",href:"#",rel:"noopener noreferrer",target:"_blank"},H=(0,l._)("br",null,null,-1);function K(e,t,a,o,n,s){return(0,l.wg)(),(0,l.j4)(W.K,null,{default:(0,l.w5)((()=>[(0,l.Wm)(x._,{class:"mx-auto px-8 py-11","max-width":"344",color:"white"},{default:(0,l.w5)((()=>[(0,l._)("div",L,[(0,l.Wm)(I.O,{modelValue:e.form,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form=t),onSubmit:(0,_.iM)(s.onSubmit,["prevent"])},{default:(0,l.w5)((()=>[M,(0,l.Wm)(B.h,{modelValue:e.account,"onUpdate:modelValue":t[0]||(t[0]=t=>e.account=t),readonly:e.loading,rules:[s.required],class:"mb-2",clearable:"",placeholder:"Enter your UserName"},null,8,["modelValue","readonly","rules"]),(0,l._)("div",Y,[(0,l.Uk)(" 密碼 "),(0,l.wy)((0,l._)("a",Z," 忘記密碼?",512),[[_.F8,!1]])]),(0,l.Wm)(B.h,{"append-inner-icon":e.visible?"mdi-eye-off":"mdi-eye",type:e.visible?"text":"password",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),readonly:e.loading,rules:[s.required],"onClick:appendInner":t[2]||(t[2]=t=>e.visible=!e.visible),placeholder:"Enter your password"},null,8,["append-inner-icon","type","modelValue","readonly","rules"]),H,(0,l.Wm)(A,{timeout:2e3,color:"blue-grey",rounded:"pill"},{activator:(0,l.w5)((({props:t})=>[(0,l.Wm)(d.T,(0,l.dG)({rounded:"pill",disabled:!e.form,loading:e.loading,block:"",color:"success",size:"large",type:"submit",variant:"elevated",class:"mb-3"},t),{default:(0,l.w5)((()=>[(0,l.Uk)(" 登入 ")])),_:2},1040,["disabled","loading"])])),_:1})])),_:1},8,["modelValue","onSubmit"])])])),_:1})])),_:1})}var Q=a(4161);const R=a(8082);var X={data:()=>({form:!1,salt:"kowkoww151s5ww",account:null,password:null,token:"",visible:!1,loading:!1,IP:"20.89.131.34:443"}),methods:{onSubmit(){const e=this.password+this.salt,t=R.MD5(e).toString();this.form&&(this.loading=!0,localStorage.setItem("username",this.account),Q.Z.post("/api/v1/account/login",{username:this.account,password:t}).then((e=>{if(console.log(e),this.loading=!1,200==e.status){localStorage.setItem("UserName",e.data.username),localStorage.setItem("UserEmail",e.data.email),localStorage.setItem("UserLevel",e.data.level),localStorage.setItem("UserSection",e.data.section);const t=e.data.registrationTime,a=new Date(1e3*t),l=a.getFullYear(),o=(a.getMonth()+1).toString().padStart(2,"0"),n=a.getDate().toString().padStart(2,"0"),s=a.getHours().toString().padStart(2,"0"),r=a.getMinutes().toString().padStart(2,"0"),i=a.getSeconds().toString().padStart(2,"0"),c=`${l}-${o}-${n} ${s}:${r}:${i}`;localStorage.setItem("registrationTime",c),localStorage.setItem("token",e.data.token),document.cookie="token="+e.data.token+"; path=/";const u=e.data.poolTable,d=u.map((e=>e.id)),m=u.map((e=>e.name)),p=e.data.instructionTable,g=p.map((e=>e.id)),v=p.map((e=>e.name));localStorage.setItem("PoolsCode",JSON.stringify(d)),localStorage.setItem("PoolsName",JSON.stringify(m)),localStorage.setItem("InstructionCode",JSON.stringify(g)),localStorage.setItem("InstructionName",JSON.stringify(v)),localStorage.setItem("UserImage","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ1f4J_Qn_tU9gsrwEcIxIdFzgGYVt_mbCjDg&usqp=CAU"),window.location.replace("/home")}else alert("登入失敗")})).catch((e=>{console.log(e),this.loading=!1,alert("登入失敗")})))},required(e){return!!e||"此區為必填區域"}}};const ee=(0,S.Z)(X,[["render",K]]);var te=ee,ae={name:"login",components:{loginnavbar:h,logininput:te},data:()=>({})};const le=(0,S.Z)(ae,[["render",c]]);var oe=le}}]);
//# sourceMappingURL=954.1543a3c9.js.map