"use strict";(self["webpackChunkwebpage1"]=self["webpackChunkwebpage1"]||[]).push([[518],{3398:function(e,t,l){l.r(t),l.d(t,{default:function(){return T}});var a=l(3396),n=l(6824),i=l(8521);const o={class:"signup"};function s(e,t,l,s,r,c){const d=(0,a.up)("loginnavbar"),u=(0,a.up)("signupinput");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(d,{class:"signinnavbar-bg"}),(0,a.Wm)(n.o,{class:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i.D,{class:"d-flex justify-center",xs:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"signupinput"})])),_:1})])),_:1})])}var r=l(4725),c=l(9242),d=l(870),u=l(11),m=l(6422),g=l(3369),p=l(6836),h=l(3444),b=l(5869);const w=e=>((0,a.dD)("data-v-79197499"),e=e(),(0,a.Cn)(),e),v=w((()=>(0,a._)("div",{class:"login-text"},"登入",-1))),f=w((()=>(0,a._)("div",{class:"titleword mb-4 ml-2 text-white"},"註冊帳戶",-1))),y=w((()=>(0,a._)("div",{class:"ml-2 mb-1 text-blue-grey-lighten-5 textdistance"},"使用者名稱",-1))),x=w((()=>(0,a._)("div",{class:"ml-2 mb-1 text-blue-grey-lighten-5 textdistance"},"Email",-1))),S=w((()=>(0,a._)("div",{class:"ml-2 mb-1 text-blue-grey-lighten-5 textdistance"},"密碼",-1))),_=w((()=>(0,a._)("div",{class:"ml-2 mb-1 text-blue-grey-lighten-5 textdistance"},"選擇區域",-1))),V=w((()=>(0,a._)("br",null,null,-1)));function W(e,t,l,n,i,o){return(0,a.wg)(),(0,a.j4)(g.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u._,{class:"pa-3 cardbg","max-width":"400"},{default:(0,a.w5)((()=>[(0,a.Wm)(m.O,{modelValue:e.form,"onUpdate:modelValue":t[5]||(t[5]=t=>e.form=t),onSubmit:(0,c.iM)(o.onSubmit,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(d.T,{variant:"text",route:"",to:"/login",class:"d-flex justify-end",color:"indigo-accent-4"},{default:(0,a.w5)((()=>[v])),_:1}),f,y,(0,a.Wm)(b.h,{density:"compact",modelValue:e.account,"onUpdate:modelValue":t[0]||(t[0]=t=>e.account=t),readonly:e.loading,rules:[o.required],class:"mb-1.5 mr-2 ml-2 text-white",placeholder:"","bg-color":"rgba(255, 255, 255, 0.2)"},null,8,["modelValue","readonly","rules"]),x,(0,a.Wm)(b.h,{density:"compact",modelValue:e.email,"onUpdate:modelValue":t[1]||(t[1]=t=>e.email=t),readonly:e.loading,rules:[o.required,o.emailRule],class:"mb-1.5 mr-2 ml-2 text-white",placeholder:"","bg-color":"rgba(255, 255, 255, 0.2)"},null,8,["modelValue","readonly","rules"]),S,(0,a.Wm)(b.h,{"append-inner-icon":e.visible?"mdi-eye-off":"mdi-eye",type:e.visible?"text":"password",modelValue:e.password,"onUpdate:modelValue":t[2]||(t[2]=t=>e.password=t),readonly:e.loading,rules:[o.required],density:"compact","onClick:appendInner":t[3]||(t[3]=t=>e.visible=!e.visible),placeholder:"",class:"ml-2 mr-2 text-white","bg-color":"rgba(255, 255, 255, 0.2)"},null,8,["append-inner-icon","type","modelValue","readonly","rules"]),_,(0,a.Wm)(p.rL,{modelValue:e.SelectSection,"onUpdate:modelValue":t[4]||(t[4]=t=>e.SelectSection=t),items:e.section,density:"comfortable",rules:[o.required],"bg-color":"rgba(255, 255, 255, 0.2)",class:"ml-2 mr-2 text-white"},null,8,["modelValue","items","rules"]),V,(0,a.Wm)(h.v,{timeout:1e3,rounded:"pill"},{activator:(0,a.w5)((({props:t})=>[(0,a.Wm)(d.T,(0,a.dG)({disabled:!e.form,loading:e.loading,color:"success",size:"large",type:"submit",variant:"elevated",class:"mb-8 sign-in-buttom"},t,{width:"250"}),{default:(0,a.w5)((()=>[(0,a.Uk)("註冊 ")])),_:2},1040,["disabled","loading"])])),_:1})])),_:1},8,["modelValue","onSubmit"])])),_:1})])),_:1})}var k=l(4161);const U=l(8082);var q={data:()=>({form:!1,email:null,account:null,password:null,token:"",loading:!1,section:[],SelectSection:null,visible:!1,IP:"20.89.131.34:443"}),created(){this.fetchInstruction()},methods:{fetchInstruction(){k.Z.get("/api/v1/section",{headers:{Authorization:"Bearer "}}).then((e=>{console.log(e);const t=e.data.instructionTable,l=t.map((e=>e.name));this.section=l})).catch((e=>{console.log(e),this.loading=!1,alert("註冊失敗")}))},onSubmit(){this.form&&(this.loading=!0,k.Z.post("/api/v1/account/sign_up",{username:this.account,mail:this.email,password:U.MD5(this.password+"kowkoww151s5ww").toString(),section:this.transection(this.SelectSection),level:80}).then((e=>{console.log(e),"200"==e.status?(alert("請至註冊信箱中點選驗證信進行驗證"),setTimeout((()=>this.loading=!1),2e3),window.location.replace("/login")):this.$Message.error("註冊失敗!請刷新螢幕重新註冊一次")})).catch((e=>{console.log(e),this.loading=!1,this.$Message.error("註冊失敗")})))},required(e){return null!==e&&""!==e.trim()||"此區為必填區域"},emailRule(e){return/.+@.+\..+/.test(e)||"Email 格式不正確"},transection(){return"北科"===this.SelectSection?"002":"海科"===this.SelectSection?"003":"先鋒"===this.SelectSection?"004":"003"}}},I=l(89);const Z=(0,I.Z)(q,[["render",W],["__scopeId","data-v-79197499"]]);var C=Z,D={name:"signup",components:{signupinput:C,loginnavbar:r.Z},data:()=>({})};const M=(0,I.Z)(D,[["render",s]]);var T=M}}]);
//# sourceMappingURL=518.d782b0ad.js.map