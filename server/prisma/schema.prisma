generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model bin {
  id      Int    @id @default(autoincrement())
  version String @unique(map: "Bin_version_key")
  time    Int
  message String @default("")
}

model component {
  dataID Int    @id @default(autoincrement())
  id     String
  type   String
  local  String
  hours  Float
  state  String
  time   Int
}

model controller {
  id          String @id
  fish        String
  exist       Int
  auto        Int
  diving      Int
  floating    Int
  forward     Int
  leave_auto  Int
  led         Int
  left        Int
  middle      Int
  right       Int
  switch_mode Int
  location    String
  name        String @default("新遙控器")
}

model depart {
  id       String @id
  location String
  name     String

  @@index([location], map: "Depart_location_fkey")
}

model fish {
  fishUID   String @id
  location  String
  exist     Int
  version   String @default("")
  photoCode Int    @default(0)

  @@index([location], map: "Fish_location_fkey")
}

model fishable {
  id      Int    @id @default(autoincrement())
  userID  Int
  fishUID String

  @@unique([userID, fishUID], map: "FishAble_userID_fishUID_key")
  @@index([fishUID], map: "FishAble_fishUID_fkey")
}

model fishdata {
  dataID           Int    @id @default(autoincrement())
  fishUID          String
  time             Int
  bc               Float
  err              Int
  active           Int
  version          String
  accumulationTime Int    @default(0)

  @@index([fishUID], map: "FishData_fishUID_fkey")
}

model instruction {
  id   String @id
  name String
}

model pool {
  id       String @id
  location String
  name     String
  mac      String

  @@index([location], map: "Pool_location_fkey")
}

model user {
  userID           Int     @id @default(autoincrement())
  username         String  @unique(map: "User_username_key")
  email            String
  passcode         String
  level            Int
  section          String
  registrationTime Int
  exist            Int
  verify           Int
  verifyCode       String?
}
